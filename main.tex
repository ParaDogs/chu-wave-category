\documentclass[a4paper,12pt]{article}
\usepackage{framed}
\usepackage[top=2cm, bottom=2cm]{geometry}
\usepackage[utf8]{inputenc}
\usepackage[english,russian]{babel}
\usepackage{amsthm,amssymb,amsfonts,amsmath,cite,enumerate}
\usepackage[all]{xy}

\newtheorem{statement}{Утверждение}
\newtheorem{lemma}{Лемма}
\newtheorem{theorem}{Теорема}
\newtheorem{consequence}{Следствие}
\newtheorem{remark}{Замечание}

\begin{document}

Зафиксируем категорию $C$ и объект $\star \in Ob(C)$. Определим следующую категорию, называемую \textit{пунктированной категорией $C$}:
\begin{itemize}
    \item Объектами категории являются пары $(k,u)$, где $k \in Ob(C)$, $u \in Mor(\star,k)$;
    \item Морфизмом из $(k,u)$ в $(l,v)$ является элемент $f \in Mor(k,l)$ такой, что $f \circ u = v$,
\end{itemize}
где комозиция наследуется из категори $C$.

Пусть $(C,\otimes,\star)$ --- моноидальная, замкнутая, биполная категория с терминальным объектом $\star$ и пусть $C_\star$ --- пунктированная категория $C$. Для объектов $k$ и $l$ из $C_*$ определим их \textit{скрещенное произведение} $k \wedge l$ как объект из $C_\star$, задаваемый следующим расслоенным произведением в $C$:
$$\xymatrix{
    (k \otimes \star) \sqcup (\star \otimes l) \ar[r] \ar[d] & k \otimes l \ar[d]\\
    \star \ar[r] & k \wedge l.
}$$

Везде ниже $(C,\times,\star)$ означает моноидальную замкнутую биполную категорию с терминальным объектом $\star$, объектами $C$ являются алгебраические системы и для любый подсистемы $B$ произвольной алгебраической системы $A \in Ob(C)$ существует подсистема $C$ системы $A$ такая, что $A = B \sqcup C$. Скрещенное произведение объектов $(A,u), (B,v) \in Ob(C_\star)$ изоморфино объекту $((A \sqcup B)/\Theta, w)$, где $\Theta = \{(a,\star) \mid a \in A\} \cup \{(\star,b) \mid a \in A\} \cup \{(c,c) \mid c \in A \cup B\}$ и $w(\star)/\Theta = \{(a,\star) \mid a \in A\} \cup \{(\star,b) \mid b \in B\}$. В пунктированной категории $C_\star$ объекты $(A,u)$ будет обозначаться через $A_\star$ или просто $A$ и $\star$ будет рассматриваться как элемент $A$.

ДОПИСАТЬ ОПРЕДЕЛЕНИЯ

Ниже будем рассматривать пунктированную категорию множеств $Set_\star$. Объектом $\star$ в этой категории является одноэлементное множество.
\begin{theorem}\label{epimorphism}
Пусть $r: A \times X \to D$ и $t: B \times Y \to C$ --- объекты категории $Chu_{\widetilde{Set}}$. Преобразование $(f,g,h): r \to t$ категории $Chu_{\widetilde{Set}}$ является эпиморфизмом тогда и только тогда, когда $f: A \to B$ --- эпиморфизм, $g: Y \to X$ --- мономорфизм категории $Set^*$.
\end{theorem}
\begin{proof}
    \textbf{Необходимость.} Пусть $(f,g,h): r \to t$ --- эпиморфизм категории $Chu_{\widetilde{Set}}$.

    Покажем, что $f$ --- эпиморфизм категории $Set^*$. Предположим, что $B_1 \ne B$, где $B_1 = f(A)$. Через $B_0$ обозначим фактормножество множества $B$ по отношению эквивалентности $\sim$ такому, что $b \sim b' \Leftrightarrow b, b' \in B_1$. Определим объект $w: (B_0 \times B) \times Y \to C$ и морфизмы $(f_1,1_Y,1_C), (f_2,1_Y,1_C): t \to w$ категории $Chu_{\widetilde{Set}}$ следующим образом: $w((b_0,b),y) = t(b,y)$, $f_1(b) = (B_1,b)$, $f_2(b) = (b/\sim,b)$ для любых $b \in B$, $b_0 \in B_0$, $y \in Y$. Корректность определения морфизмов $(f_1,1_Y,1_C)$, $(f_2,1_Y,1_C)$ следует из равенств:
    $$
        t(b,y) = w(f_1(b),y) = w(f_2(b),y),
    $$
    где $b \in B$, $y \in Y$. Если $a \in A$, то $f(a) \in B_1$ и $f_1(f(a)) = f_2(f(a))$, то есть $f_1 \circ f = f_2 \circ f$. Тогда $(f_1,1_Y,1_C) \circ (f,g,h) = (f_2,1_Y,1_C) \circ (f,g,h)$. Поскольку $(f,g,h)$ --- эпиморфизм категории $Chu_{\widetilde{Set}}$, то $f_1 = f_2$. Противоречие.

    % Покажем, что $h$ --- эпиморфизм категории $Set^*$. Предположим, что $C_1 \ne C$, где $C_1 = h(D)$. Через $C_0$ обозначим фактормножество множества $C$ по отношению эквивалентности $\sim$ такому, что $c \sim c' \Leftrightarrow c,c' \in C_1$. Определим объект $w: \star \times Y \to C_0$ и морфизмы $(f',1_Y,h_1), (f',1_Y,h_2): t \to w$ категории $Chu_{\widetilde{Set}}$ следующим образом: $w(\star,y) = C_1$, $f'(b) = \star$, $h_1(c) = C_1$, $h_2(c) = c/\sim$, где $b \in B$, $y \in Y$, $c \in C$. Корректность определения морфизма $(f',1_Y,h_1)$ следует из равенств
    % $$
    %     h_1(t(b,y)) = C_1 = w(f'(b),y),
    % $$
    % где $b \in B$, $y \in Y$. Покажем коррекность определения морфизма $(f',1_Y,h_2)$. Пусть $b \in B$, $y \in Y$. Поскольку $f$ --- эпиморфизм категории $Set^*$, то $b = f(a)$ для некоторого $a \in A$. Тогда $t(b,y) = t(f(a),y) = h(r(a,g(y))) \in C_1$, то есть
    % $$
    %     h_2(t(b,y)) = C_1 = w(f'(b),y).
    % $$
    % Так как $h_1 \circ h = h_2 \circ h$, то $(f',1_Y,h_1) \circ (f,g,h) = (f',1_Y,h_2) \circ (f,g,h)$. Поскольку $(f,g,h)$ --- эпиморфизм категории $Chu_{\widetilde{Set}}$, то для любого $c \in C$ если $c = t(b,y)$, то $h_1(c) = h_2(c) = w(f'(b),y) = C_1$.
    
    % то НЕВЕРНО (В ЭТОЙ КАТЕГОРИИ ДЛЯ РАВЕНСТВА МОРФИЗМОВ НЕ НУЖНО ПОКОМПОНЕНТНОЕ РАВЕНСТВО. ПРОБЛЕМА В ТОМ, ЧТО ПОСТРОЕННЫЕ МОРФИЗМЫ УЖЕ БЫЛИ РАВНЫ ПО ПОСТРОЕНИЮ) $h_1 = h_2$. Противоречие.

    Покажем, что $g$ --- монофорфизм категории $Set^*$. Предположим, что существуют различные $y_1, y_2 \in Y$ такие, что $g(y_1) = g(y_2)$. Пусть $b \in B$. Покажем, что $t(b,y_1) = t(b,y_2)$. Так как $f$ --- эпиморфизм, то существует $a \in A$ такой, что $f(a) = b$. Тогда
    $$
        t(b,y_1) = t(f(a),y_1) = h(r(a,g(y_1))) = h(r(a,g(y_2))) = t(f(a),y_2) = t(b,y_2).
    $$
    Определим объект $w: B \times \star \to C$ и морфизмы $(1_B,g_1,1_C), (1_B,g_2,1_C): t \to w$ категории $Chu_{\widetilde{Set}}$ следующим образом: $w(b,\star) = t(b,y_1)$, $g_1(\star) = y_1$, $g_2(\star) = y_2$ для любых $b \in B$. Корректность определения морфизмов $(1_B,g_1,1_C), (1_B,g_2,1_C)$ следует из равенств:
    $$
        t(b,g_i(\star)) = t(b,y_i) = w(b,\star),
        % t(b,g_i(s)) = t(b,sy_i) = st(b,y_i) = w(b,s),
    $$
    где $b \in B$, $i \in \{1,2\}$. Так как
    $$
        (g \circ g_1)(\star) = g(g_1(\star)) = g(y_1) = g(y_2) = g(g_2(\star)) = (g \circ g_2)(\star),
    $$
    то $(f,g,h) \circ (1_B,g_1,1_C) = (f,g,h) \circ (1_B,g_2,1_C)$. Поскольку $(f,g,h)$ --- эпиморфизм категории $Chu_{\widetilde{Set}}$, то $g_1 = g_2$. Противоречие.

    \textbf{Достаточность.} Пусть $(f,g,h): r \to t$ --- преобразование категории $Chu_{\widetilde{Set}}$, где $f$ --- эпиморфизм, $g$ --- мономорфизм категории $Set^*$. Предположим, что $(f_1,g_1,h_1), (f_2,g_2,h_2): t \to w$ --- преобразования Чу категории $Chu_{\widetilde{Set}}$ такие, что $(f_1,g_1,h_1) \circ (f,g,h) = (f_2,g_2,h_2) \circ (f,g,h)$, где $w: E \times Z \to F$ --- пространство Чу категории $Chu_{\widetilde{Set}}$. Тогда $f_1 \circ f = f_2 \circ f$, $g \circ g_1 = g \circ g_2$ и для любого $d \in D$ если $d = r(a,(g \circ g_1)(z)) = r(a,(g \circ g_2)(z))$, то $(h_1 \circ h)(d) = (h_2 \circ h)(d) = w((f_1 \circ f)(a), z) = w((f_2 \circ f)(a), z)$. Покажем, что для любого $c \in C$ если $c = t(b,g_1(z))$, то $h_1(c) = h_2(c) = w(f_1(b),z)$. Пусть $c \in C$ и $c = t(b,g_1(z))$ для некоторых $b \in B$, $z \in Z$. Поскольку $f$ --- эпиморфизм, $g$ --- мономорфизм категории $Set^*$, то $f_1 = f_2$, $g_1 = g_2$. Так как $f$ --- эпиморфизм, то $b = f(a)$ для некоторого $a \in A$. Тогда 
    \begin{multline*}
        h_1(c) = h_1(t(b,g_1(z))) = h_1(t(f(a),g_1(z))) = w(f_1(f(a)),z) =\\=
        w(f_2(f(a)),z) = h_2(t(f(a),g_2(z))) = h_1(t(b,g_1(z))) = h_2(c).
    \end{multline*}
    Следовательно, $(f_1,g_1,h_1) = (f_2,g_2,h_2)$ в категории $Chu_{\widetilde{Set}}$ и преобразование $(f,g,h): r \to t$ является эпиморфизмом категории $Chu_{\widetilde{Set}}$.
\end{proof}

\begin{theorem}\label{monomorphism}
Пусть $r: A \times X \to D$ и $t: B \times Y \to C$ --- объекты категории $Chu_{\widetilde{Set}}$. Преобразование $(f,g,h): r \to t$ категории $Chu_{\widetilde{Set}}$ является мономорфизмом тогда и только тогда, когда $f: A \to B$ --- мономорфизм, $g: Y \to X$ --- эпиморфизм категории $Set^*$.
\end{theorem}
\begin{proof}
    \textbf{Необходимость.} Пусть $(f,g,h): r \to t$ --- мономорфизм категории $Chu_{\widetilde{Set}}$.

    Покажем, что $g$ --- эпиморфизм категории $Set^*$. Предположим, что $X_1 \ne X$, где $X_1 = g(Y)$. Через $X_0$ обозначим фактормножество множества $X$ по отношению эквивалентности $\sim$ такому, что $x \sim x' \Leftrightarrow x,x' \in X_1$. Определим объект $w: A \times (X_0 \times X) \to D$ и морфизмы $(1_A,g_1,1_D), (1_A,g_2,1_D): w \to r$ категори $Chu_{\widetilde{Set}}$ следующим образом: $w(a,(x_0,x)) = r(a,x)$, $g_1(x) = (X_1,x)$, $g_2(x) = (x/\sim, x)$, для любых $a \in A$, $x \in X$, $x_0 \in X_0$. Из определения объекта $w$ категории $Chu_{\widetilde{Set}}$ следует равенство
    $$
        w(a,g_1(x)) = w(a,g_2(x)) = r(a,x),
    $$ 
    где $a \in A$, $x \in X$, что доказывает коррекность определения морфизмов $(1_A,g_1,1_D)$, $(1_A,g_2,1_D)$. Если $y \in Y$, то $g(y) \in X_1$ и $g_1(g(y)) = g_2(g(y))$, то есть $g_1 \circ g = g_2 \circ g$. Тогда $(1_A,g_1,1_D) \circ (f,g,h) = (1_A,g_2,1_D) \circ (f,g,h)$. Поскольку $(f,g,h)$ --- мономорфизм категории $Chu_{\widetilde{Set}}$, то $g_1 = g_2$. Противоречие.

    % Покажем, что $h$ --- мономорфизм категории $Set^*$. Предположим, что существуют различные $d_1,d_2 \in D$ такие, что $h(d_1) = h(d_2)$. Определим объект $w: A \times X \to \star \sqcup D$ и морфизмы $(1_A,1_X,h_1), (1_A,1_X,h_2): w \to r$ категории $Chu_{\widetilde{Set}}$ следующим образом $w(a,x) = r(a,x)$, $h_1(\star) = d_1$, $h_2(\star) = d_2$, $h_1(d) = h_2(d) = d$ для любых $a \in A$, $x \in X$, $d \in D$. Корректность определения морфизмов $(1_A,1_X,h_1), (1_A,1_X,h_2)$ следует из равенств:
    % $$
    %     h_1(w(a,x)) = h_2(w(a,x)) = r(a,x),
    % $$
    % для любых $a \in A$, $x \in X$. Так как $h(h_1(d)) = h(h_2(d))$ для любых $d \in D$ и $h(h_1(\star)) = h(h_2(\star))$, то $h \circ h_1 = h \circ h_2$. Следовательно $(f,g,h) \circ (1_A,1_X,h_1) = (f,g,h) \circ (1_A,1_X,h_2)$. Поскольку $(f,g,h)$ --- мономорфизм категори $Chu_{\widetilde{Set}}$, то (ЗДЕСЬ ЭТО НЕВЕРНО) $h_1 = h_2$. Противоречие.

    Покажем, что $f$ --- монофорфизм категории $Set^*$. Предположим, что существуют различные $a_1, a_2 \in A$ такие, что $f(a_1) = f(a_2)$. Пусть $x \in X$. Покажем, что $r(a_1,x) = r(a_2,x)$. Так как $g$ --- эпиморфизм, то существует $y \in Y$ такой, что $g(y) = x$. Тогда
    $$
        h(r(a_1,x)) = h(r(a_1,g(y))) = t(f(a_1),y) = t(f(a_2),y) = h(r(a_2,g(y))) = h(r(a_2,x)).
    $$
    Поскольку $h$ --- мономорфизм категории $Set^*$, то $r(a_1,x) = r(a_2,x)$. Определим объект $w: \star \times X \to D$ и морфизмы $(f_1,1_X,1_D), (f_2,1_X,1_D): w \to r$ категории $Chu_{\widetilde{Set}}$ следующим образом $w(\star,x) = r(a_1,x)$, $f_1(\star) = a_1$, $f_2(\star) = a_2$ для любых $x \in X$. Поскольку
    $$
        (f \circ f_1)(\star) = f(f_1(\star)) = f(a_1) = f(a_2) = f(f_2(\star)) = (f \circ f_2)(\star),
    $$
    то $f \circ f_1 = f \circ f_2$. Следовательно, $(f,g,h) \circ (f_1,1_X,1_D) = (f,g,h) \circ (f_2,1_X,1_D)$. Поскольку $(f,g,h)$ --- мономорфизм категории $Chu_{\widetilde{Set}}$, то $f_1 = f_2$, то есть $a_1 = a_2$. Противоречие.

    \textbf{Достаточность.} Пусть $(f,g,h): r \to t$ --- морфизм категории $Chu_{\widetilde{Set}}$, где $f$ --- мономорфизм, $g$ --- эпиморфизм категории $Star^*$. Предположим, что $(f_1,g_1,h_1), (f_2,g_2,h_2): w \to r$ --- морфизмы категории $Chu_{\widetilde{Set}}$ такие, что $(f,g,h) \circ (f_1,g_1,h_1) = (f,g,h) \circ (f_2,g_2,h_2)$, где $w: E \times Z \to P$ --- пространство Чу категории $Chu_{\widetilde{Set}}$. Тогда $f \circ f_1 = f \circ f_2$, $g_1 \circ g = g_2 \circ g$ и для любого $p \in P$ если $p = w(e,(g_1 \circ g)(y)) = r(e,(g_2 \circ g)(y))$, то $(h \circ h_1)(p) = (h \circ h_2)(p) = t((f \circ f_1)(e), y) = t((f \circ f_2)(e), y)$. Поскольку $f$ --- мономорфизмы категории $Set^*$, а $g$ --- эпиморфизм категории $Set^*$ то $f_1 = f_2$, $g_1 = g_2$ и (В ЭТОЙ КАТЕГОРИИ ЭТО НЕОБЯЗАТЕЛЬНО) $h_1 = h_2$, то есть $(f_1,g_1,h_1) = (f_2,g_2,h_2)$. Следовательно, преобразование $(f,g,h): r \to t$ является мономорфизмом категории $Chu_{\widetilde{Set}}$.
\end{proof}

\end{document}

\begin{theorem}[существование коуравнителя]
Пусть $r: A \times X \to D_1$ и $s: B \times Y \to D_2$ --- объекты категории $Chu_{\widetilde{Set}}$ и $(f_1,g_1,h_1), (f_2,g_2,h_2): r \to s$ --- преобразования категории $Chu_{\widetilde{Set}}$. Тогда коуравнитель морфизмов $(f_1,g_1,h_1), (f_2,g_2,h_2)$ --- это пространство Чу $t: Q \times E \to W$, где $Q = B/\nu(f_1,f_2)$, $W = D/\nu(h_1,h_2)$, $E = \{y \in Y \mid g_1(y) = g_2(y)\}$, $t(b/\nu(f_1,f_2),y) = s(b,y)/\nu(h_1,h_2)$ для любых $b \in B$, $y \in E$, с морфизмом $(f,g,h): s \to t$, где $f,h$ --- канонические эпиморфизмы, $g$ --- естественное вложение.
\end{theorem}
\begin{proof}
    todo
\end{proof}

еще теоремы...